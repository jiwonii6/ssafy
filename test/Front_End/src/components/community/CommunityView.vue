<template>
  <div class="community-container">
    <div class="header">
      <h1>ğŸ¬ ì˜í™” ìˆ˜ë‹¤ë°©</h1>
      <button @click="goToCreate" class="btn-write">ê¸€ì“°ê¸°</button>
    </div>

    <div class="post-list">
      <div 
        v-for="post in posts" 
        :key="post.id" 
        class="post-item"
        @click="goToDetail(post.id)"
      >
        <div class="movie-tag">ğŸ¿ {{ post.movieTitle }}</div>
        <h3 class="post-title">{{ post.title }}</h3>
        <div class="post-meta">
          <span>ì‘ì„±ì: {{ post.author }}</span>
          <span>{{ post.date }}</span>
          <span>ëŒ“ê¸€ {{ post.commentCount }}</span>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';
import { useRouter } from 'vue-router';

const router = useRouter();

// ì„ì‹œ ë°ì´í„° (ë‚˜ì¤‘ì— ë°±ì—”ë“œì—ì„œ ê°€ì ¸ì˜¬ ë°ì´í„°)
const posts = ref([
  { id: 1, movieTitle: 'ì¸ì…‰ì…˜', title: 'ë§ˆì§€ë§‰ íŒ½ì´ ì¥ë©´ ì–´ë–»ê²Œ ìƒê°í•˜ì„¸ìš”?', author: 'ì˜í™”ê´‘', date: '2024-05-20', commentCount: 5 },
  { id: 2, movieTitle: 'ë²”ì£„ë„ì‹œ4', title: 'ì´ë²ˆ ì•¡ì…˜ ì§„ì§œ ì‹œì›í•˜ë„¤ìš” ã…‹ã…‹', author: 'íŒì½˜ëŸ¬', date: '2024-05-21', commentCount: 12 },
]);

const goToCreate = () => {
  router.push({ name: 'PostCreate' });
};

const goToDetail = (id: number) => {
  router.push({ name: 'PostDetail', params: { id } });
};
</script>

<style scoped>
.community-container { max-width: 800px; margin: 0 auto; padding: 20px; }
.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.btn-write { background-color: #ff4081; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
.post-item { border-bottom: 1px solid #eee; padding: 15px 0; cursor: pointer; transition: background 0.2s; }
.post-item:hover { background-color: #f9f9f9; }
.movie-tag { color: #666; font-size: 0.9rem; margin-bottom: 5px; }
.post-title { margin: 5px 0; font-size: 1.2rem; }
.post-meta { font-size: 0.8rem; color: #999; display: flex; gap: 10px; }
</style>